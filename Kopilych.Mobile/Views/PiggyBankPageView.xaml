<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
              xmlns:pr="clr-namespace:MPowerKit.ProgressRing;assembly=MPowerKit.ProgressRing"
             xmlns:viewmodels="clr-namespace:Kopilych.Mobile.View_Models"
             xmlns:views="clr-namespace:Kopilych.Mobile.Views"
             x:Class="Kopilych.Mobile.Views.PiggyBankPageView">
    <VerticalStackLayout Padding="20" Spacing="10">
        <Grid  BackgroundColor="Red" Padding="0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="0.25*" />
                <ColumnDefinition Width="0.5*" />
                <ColumnDefinition Width="0.25*" />
            </Grid.ColumnDefinitions>
            <Image Source="back.svg" BackgroundColor="Brown"
               WidthRequest="22"
               HeightRequest="40"
               Grid.Column="0"
               HorizontalOptions="Start"
               VerticalOptions="Center" />
            <Frame Grid.Column="1" Padding="0" WidthRequest="60" HeightRequest="60" BackgroundColor="Beige" BorderColor="Transparent">

                <Grid>
                    <Frame Margin ="8" BackgroundColor="Transparent" CornerRadius="1000" Padding="0">
                        <Image BackgroundColor="Transparent" Aspect="AspectFill" Source="{Binding PhotoPath}">

                        </Image>
                    </Frame>
                    <pr:ProgressRing x:Name="BalancePercentage"

Progress="{Binding FillLevel}"
IsIndeterminate="False"
Smooth="True"
WidthRequest="60"
HeightRequest="60"
StrokeLineCap="Square"
Color="Green" 
Thickness="5" />
                </Grid>

            </Frame>
        </Grid>
        <Label Text="Транзакции" FontAttributes="Bold" FontFamily="NunitoBold"  FontSize="20" LineBreakMode="TailTruncation" TextColor="#041E2F" VerticalOptions="CenterAndExpand" HorizontalOptions="CenterAndExpand" Grid.ColumnSpan="2" Grid.Row="0"></Label>
        <CollectionView ItemsSource="{Binding TransactionsViewModels}" VerticalOptions="FillAndExpand" HorizontalOptions="FillAndExpand">
            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <views:TransactionView IsClippedToBounds="False" Padding="5"/>

                    <!--<VerticalStackLayout>
                            <Label Text="qdasfas" FontSize="24" />
                        </VerticalStackLayout>-->
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>
    </VerticalStackLayout>
</ContentPage>